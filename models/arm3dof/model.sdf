<?xml version="1.0" ?>

<sdf version="1.9">

    <model name="arm3dof">

      <link name="govde">
        <pose> 0 0 0.05 0 0 0</pose>

        <visual name="v_govde">
          <geometry><box><size>0.9 0.9 0.1</size></box></geometry>
          <material><diffuse>0.5 0 0 1</diffuse></material>
        </visual>
        
        <collision name="c_govde">
          <geometry><box><size> 0.9 0.9 0.1</size></box></geometry>
        </collision>

        <inertial>
          <mass>50.0</mass>
          <inertia>
            <ixx>1</ixx>
            <ixy>0</ixy>
            <ixz>0</ixz>
            <iyy>1</iyy>
            <iyz>0</iyz>
            <izz>1</izz>
          </inertia>
        </inertial>     
      </link>

      <joint name="yere_sabitle" type="fixed">
        <parent>world</parent>
        <child>govde</child>
      </joint>


      <joint name="j1_base_yaw" type="revolute">
        <parent>govde</parent>
        <child>kol_1</child>
        <pose relative_to="govde">0 0 0.05 0 0 0</pose>

        <axis>
          <xyz> 0 0 1</xyz>
          <limit><lower>-3.14</lower><upper>3.14</upper></limit>
          <dynamics><damping>0.5</damping></dynamics>
        </axis>
      </joint>


      <link name="kol_1">
        <pose relative_to="j1_base_yaw">0 0 0.25 0 0 0</pose>

        <visual name="v_kol_1">
          <geometry><box><size>0.1 0.1 0.5</size></box></geometry>
          <material><diffuse>0 0 0.8 1</diffuse></material>
        </visual>

        <collision name="c_kol_1">
          <geometry><box><size>0.1 0.1 0.5</size></box></geometry>
        </collision>

        <inertial>
          <mass>1.0</mass>
          <inertia>
            <ixx>0.02</ixx>
            <ixy>0</ixy>
            <ixz>0</ixz>
            <iyy>0.02</iyy>
            <iyz>0</iyz>
            <izz>0.002</izz>
          </inertia>
        </inertial>
      </link>
      
      


      <link name="kol_2">
        <pose relative_to="j2_base_shoulder">0 0 0.25 0 0 0</pose>

        <visual name="v_kol_2">
          <geometry><box><size>0.1 0.1 0.5</size></box></geometry>
          <material><diffuse>0.5 0 0 1</diffuse></material>
        </visual>

        <collision name="c_kol_2">
          <geometry><box><size>0.1 0.1 0.5</size></box></geometry>
        </collision>

        <inertial>
          <mass>1.0</mass>
          <inertia>
            <ixx>0.02</ixx>
            <ixy>0</ixy>
            <ixz>0</ixz>
            <iyy>0.02</iyy>
            <iyz>0</iyz>
            <izz>0.002</izz>
          </inertia>
        </inertial>

      </link>
      
      <joint name="j2_base_shoulder" type="revolute">
        <parent>kol_1</parent>
        <child>kol_2</child>
        <pose relative_to="kol_1">0 0 0.25 0 0 0</pose>

        <axis>
          <xyz> 0 1 0</xyz>
          <limit><lower>-1.57</lower><upper>1.57</upper></limit>
          <dynamics><damping>0.5</damping></dynamics>
        </axis>
        
      </joint>


      <link name="kol_3">
        <pose relative_to="j3_base_elbow">0 0 0.25 0 0 0</pose>

        <visual name="v_kol_3">
          <geometry><box><size>0.1 0.1 0.5</size></box></geometry>
          <material><diffuse>0 0 0.8 1</diffuse></material>
        </visual>

        <collision name="c_kol_3">
          <geometry><box><size>0.1 0.1 0.5</size></box></geometry>
        </collision>

        <inertial>
          <mass>1.0</mass>
          <inertia>
            <ixx>0.02</ixx>
            <ixy>0</ixy>
            <ixz>0</ixz>
            <iyy>0.02</iyy>
            <iyz>0</iyz>
            <izz>0.002</izz>
          </inertia>
        </inertial>
      </link>
      
      <joint name="j3_base_elbow" type="revolute">
        <parent>kol_2</parent>
        <child>kol_3</child>
        <pose relative_to="kol_2">0 0 0.25 0 0 0</pose>

        <axis>
          <xyz> 0 1 0</xyz>
          <limit><lower>-1.57</lower><upper>1.57</upper></limit>
          <dynamics><damping>0.5</damping></dynamics>
        </axis>
        
      </joint>



      <plugin
        filename="gz-sim-joint-position-controller-system"
        name="gz::sim::systems::JointPositionController">
        <joint_name>j1_base_yaw</joint_name>
        <topic>cmd_pos_j1</topic> <p_gain>200</p_gain>      <i_gain>10</i_gain>       <d_gain>10</d_gain>       </plugin>

      <plugin
        filename="gz-sim-joint-position-controller-system"
        name="gz::sim::systems::JointPositionController">
        <joint_name>j2_base_shoulder</joint_name>
        <topic>cmd_pos_j2</topic>
        <p_gain>5000</p_gain>     
        <i_gain>200</i_gain>
        <d_gain>50</d_gain>
      </plugin>

      <plugin
        filename="gz-sim-joint-position-controller-system"
        name="gz::sim::systems::JointPositionController">
        <joint_name>j3_base_elbow</joint_name>
        <topic>cmd_pos_j3</topic>
        <p_gain>1000</p_gain>
        <i_gain>50</i_gain>
        <d_gain>20</d_gain>
      </plugin>


    </model>
</sdf>